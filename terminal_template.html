            <!-- Terminal Content -->
            <div x-show="activeTab === 'chat'" class="flex-1 flex flex-col terminal">
                <!-- Terminal Output -->
                <div id="terminalOutput" class="flex-1 overflow-y-auto p-4 terminal-output">
                    <!-- Welcome Message -->
                    <div class="system-message fade-in" x-show="chatMessages.length === 0 && !isStreaming">
                        <div class="timestamp">""" + str(app.state.working_directory) + """ $</div>
                        <div>cuti v0.2.0 - Claude Code Terminal Interface</div>
                        <div>Type your message to start chatting with Claude Code CLI...</div>
                        <div>&nbsp;</div>
                    </div>
                    
                    <!-- Chat Messages -->
                    <template x-for="message in chatMessages" :key="message.id">
                        <div class="fade-in">
                            <!-- User Input -->
                            <div x-show="message.role === 'user'" class="user-input">
                                <span class="timestamp" x-text="formatTime(message.timestamp)"></span>
                                <span class="glow">$</span> <span x-text="message.content"></span>
                            </div>
                            
                            <!-- Assistant Output -->
                            <div x-show="message.role === 'assistant'" class="assistant-output" x-html="formatTerminalMessage(message.content)"></div>
                            
                            <!-- System Messages -->
                            <div x-show="message.role === 'system'" class="system-message">
                                <span class="timestamp" x-text="formatTime(message.timestamp)"></span>
                                <span>[SYSTEM]</span> <span x-text="message.content"></span>
                            </div>
                            
                            <!-- Error Messages -->
                            <div x-show="message.role === 'error'" class="error-message">
                                <span class="timestamp" x-text="formatTime(message.timestamp)"></span>
                                <span>[ERROR]</span> <span x-text="message.content"></span>
                            </div>
                        </div>
                    </template>
                    
                    <!-- Current Streaming Message -->
                    <div x-show="isStreaming && currentStreamingMessage">
                        <div class="assistant-output">
                            <span x-html="formatTerminalMessage(currentStreamingMessage.content)"></span><span class="streaming-cursor"></span>
                        </div>
                    </div>
                    
                    <!-- Input Prompt -->
                    <div class="user-input" x-show="!isStreaming">
                        <span class="timestamp" x-text="getCurrentTime()"></span>
                        <span class="glow">$</span> <span class="streaming-cursor" x-show="chatInput.length === 0"></span>
                    </div>
                </div>
                
                <!-- Input Area -->
                <div class="border-t border-gray-800 p-4">
                    <div class="flex items-center space-x-2">
                        <span class="text-gray-500 text-sm">$</span>
                        <input
                            x-model="chatInput"
                            @keydown.enter="sendChatMessage()"
                            @keydown.ctrl.c="clearTerminal()"
                            placeholder="Enter your message..."
                            class="prompt-input"
                            :disabled="isStreaming"
                            x-ref="promptInput">
                        <div x-show="isStreaming" class="text-yellow-500 text-xs">Processing...</div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Todo Sidebar -->
        <div x-show="showTodos" class="w-80 sidebar flex-shrink-0">
            <div class="p-4 border-b border-gray-800">
                <div class="text-sm font-medium glow">ACTIVE TODOS</div>
                <div class="text-xs text-gray-500 mt-1" x-text="todos.filter(t => !t.completed).length + ' pending, ' + todos.filter(t => t.completed).length + ' completed'"></div>
            </div>
            <div class="flex-1 overflow-y-auto p-4">
                <div x-show="todos.length === 0" class="text-gray-500 text-center py-8 text-sm">
                    No todos extracted yet.
                    Chat with Claude to see tasks appear here.
                </div>
                <div class="space-y-2">
                    <template x-for="todo in todos" :key="todo.id">
                        <div class="todo-item" :class="todo.completed && 'completed'">
                            <div class="flex items-start gap-2">
                                <input
                                    type="checkbox"
                                    :checked="todo.completed"
                                    @change="toggleTodo(todo.id)"
                                    class="todo-checkbox mt-1">
                                <div class="flex-1">
                                    <div x-text="todo.text" class="text-sm"></div>
                                    <div x-show="todo.timestamp" class="timestamp mt-1" x-text="formatTime(todo.timestamp)"></div>
                                </div>
                            </div>
                        </div>
                    </template>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Status Bar -->
    <div class="status-bar px-4 py-1 flex justify-between items-center">
        <div class="flex items-center space-x-4 text-xs">
            <div>Claude Code v0.2.0</div>
            <div x-show="isStreaming" class="text-yellow-500">● Streaming</div>
            <div x-show="!isStreaming" class="text-green-500">● Ready</div>
        </div>
        <div class="flex items-center space-x-4 text-xs">
            <div x-text="chatMessages.length + ' messages'"></div>
            <div x-text="todos.filter(t => !t.completed).length + ' todos'"></div>
        </div>
    </div>